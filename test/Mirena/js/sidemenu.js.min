(function(a){a.sidemenu=function(c,j){var g=c;g.init=function(){g.vars=a.extend({},a.sidemenu.defaults,j);g.data("sidemenu",g);g.sidebar=g.find(g.vars.sidebarid);g.command=g.find(g.vars.menubuttonid);g.state=0;g.isSliding=false;g.setTransition(0);a(g).css({"-webkit-transition-timing-function":"cubic-bezier(0.0, 0.0, 0.3, 1.0)","-webkit-transform":"translate3d(0,0,0)"});var k=("ontouchstart" in document.documentElement)?"touchstart":"click";a(g.command).each(function(){this.addEventListener(k,e,false)});g.setTransition(600);g.vars.start(g)};function e(k){if(g.isSliding){k.preventDefault()}else{g.animatepanel()}}g.animatepanel=function(){g.isSliding=true;g.bind("webkitTransitionEnd",function(l){a(this).unbind("webkitTransitionEnd");if(g.state==0){g.state=1;g.enablemenu()}else{g.state=0;g.disablemenu()}g.isSliding=false});var k=(g.state==0)?g.vars.width:0;g.css({"-webkit-transform":"translate3d("+k+"px,0,0)"})};g.enablemenu=function(){var k=("ontouchstart" in document.documentElement)?"touchstart":"mousedown";a(g.vars.sidebarmenu).each(function(){this.addEventListener(k,h,false)});a(g).each(function(){this.addEventListener(k,d,false)})};g.disablemenu=function(){var k=("ontouchstart" in document.documentElement)?"touchstart":"mousedown";a(g.vars.sidebarmenu).each(function(){this.removeEventListener(k,h,false)});a(g).each(function(){this.removeEventListener(k,d,false)})};function d(k){k.stopPropagation();k.preventDefault();if(!g.isSliding){g.animatepanel()}return false}function h(m){m.stopPropagation();m.preventDefault();if(!f(m.target)){var l=i(m.target);a(l).removeClass("sidemenu-btn-up").addClass("sidemenu-btn-down");var k=("ontouchstart" in document.documentElement)?"touchend":"mouseup";this.addEventListener(k,b,false)}return false}function b(m){m.stopPropagation();m.preventDefault();var l=i(m.target);a(l).removeClass("sidemenu-btn-down").addClass("sidemenu-btn-up");var k=("ontouchstart" in document.documentElement)?"touchend":"mouseup";this.removeEventListener(k,b,false);g.animatepanel();g.vars.linkclicked(m.target.pathname);return false}function f(m){var l;var k=0;var n=4;while(m&&n){l=(typeof m.className==="string")&&m.className.split(" ");if(a.inArray("sidemenu-btn-active",l)>-1){k=1;break}m=m.parentNode;n--}return k}function i(l){var k;while(l){k=(typeof l.className==="string")&&l.className.split(" ");if(k&&(a.inArray("sidemenu-btn-up",k)>-1||a.inArray("sidemenu-btn-down",k)>-1)){break}l=l.parentNode}return l}g.setTransition=function(k){g.css({"-webkit-transition-duration":(k/1000)+"s"})};g.init()};a.sidemenu.defaults={sidebarid:".sidebar",menubuttonid:".sidemenubutton",sidebarmenu:".sidemenu",width:280,start:function(){},ready:function(){},before:function(){},after:function(){},end:function(){},linkclicked:function(){}};a.fn.sidemenu=function(b){return this.each(function(){if(!a(this).data("sidemenu")){new a.sidemenu(a(this),b)}})}})(jQuery);