(function(a){a.dragablebillboard=function(c,n){var l=c;l.init=function(){l.vars=a.extend({},a.dragablebillboard.defaults,n);l.data("dragablebillboard",l);l.bottomlayer=l.find(l.vars.background);l.toplayer=l.find(l.vars.heroes);l.state=0;l.isSliding=false;l.transitions="webkitTransition" in document.body.style;if(l.transitions){l.prop="-webkit-transform"}l.setTransition(0);l.css({width:l.vars.width+"px",height:(l.vars.height+l.vars.padding)+"px"});l.bottomlayer.each(function(){a(this).css({padding:l.vars.padding+"px 0px",height:(l.vars.height-(2*l.vars.padding))+"px",width:l.vars.width+"px","-webkit-transition-duration":"0s",opacity:"0"})});l.toplayer.css({position:"absolute",width:l.vars.width+"px",height:l.vars.height+"px",top:"0px","-webkit-transition-duration":"0","-webkit-transform":"translate3d(0,-"+(l.vars.height+l.vars.padding)+"px,0)"});l.vars.start(l)};l.slidetoplace=function(p,o){l.toplayer.css({"-webkit-transition-duration":(p/1000)+"s","-webkit-transition-timing-function":"cubic-bezier(0.0, 0.0, 0.4, 1.0)","-webkit-transform":"translate3d(0,"+o+"px,0)"})};l.slidein=function(){l.toplayer.bind("webkitTransitionEnd",function(o){a(this).unbind("webkitTransitionEnd");l.toplayer.each(function(){if("ontouchstart" in document.documentElement){this.addEventListener("touchstart",e,false)}});l.bottomlayer.each(function(){a(this).css({"-webkit-transition-duration":"0s",opacity:"1"});l.vars.ready(l)})});l.slidetoplace(1000,0)};l.slideout=function(){l.toplayer.bind("webkitTransitionEnd",function(o){a(this).unbind("webkitTransitionEnd");this.removeEventListener("touchstart",e,false);l.vars.end(l)});l.slidetoplace(1000,-1*(l.vars.height+l.vars.padding))};var h,f,d,i,m,j,g=false;function e(o){if(l.isSliding){o.preventDefault()}else{if(o.touches.length==1){h=o.touches[0].pageX;f=o.touches[0].pageY;l.setTransition(0);this.addEventListener("touchmove",b,false);this.addEventListener("touchend",k,false)}}}function b(o){m=f-o.touches[0].pageY;g=(Math.abs(m)<Math.abs(o.touches[0].pageX-h));if(!g&&m>=0){o.preventDefault();l.toplayer.css({"-webkit-transition-duration":"0","-webkit-transform":"translate3d(0,"+(-1*m)+"px,0)"})}}function k(o){l.toplayer.bind("webkitTransitionEnd",function(p){a(this).unbind("webkitTransitionEnd");l.animating=false});l.slidetoplace(600,0);this.removeEventListener("touchmove",b,false);this.removeEventListener("touchend",k,false);h=null;f=null;m=null}l.setTransition=function(o){l.toplayer.css({"-webkit-transition-duration":(o/1000)+"s"})};l.init()};a.dragablebillboard.defaults={heroes:"#billboardheroes",background:"#billboardbackground",animationDuration:600,width:1024,height:280,padding:15,start:function(){},ready:function(){},before:function(){},after:function(){},end:function(){}};a.fn.dragablebillboard=function(b){return this.each(function(){if(!a(this).data("dragablebillboard")){new a.dragablebillboard(a(this),b)}})}})(jQuery);