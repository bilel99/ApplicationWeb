(function(a){a.carouselmenu=function(c,b){var d=c;d.init=function(){d.vars=a.extend({},a.carouselmenu.defaults,b);d.data("carouselmenu",d);d.container=a(".carouselmenu",d);d.slides=a(".carouselmenu > li",d);d.leftslides=d.find(d.vars.leftitem);d.rightslides=d.find(d.vars.rightitem);d.leftcaption=a(d.vars.leftcaption);d.rightcaption=a(d.vars.rightcaption);d.startbutton=a(d.vars.enterbutton);d.count=d.slides.length;d.animating=false;d.leftinfocus=true;d.currentSlide=d.vars.slideToStart;d.animatingTo=d.currentSlide;d.atEnd=(d.currentSlide==0)?true:false;d.eventType=("ontouchstart" in document.documentElement)?"touchstart":"click";d.manualPause=false;d.vertical=(d.vars.slideDirection=="vertical");d.prop=(d.vertical)?"top":"marginLeft";d.args={};d.transitions="webkitTransition" in document.body.style;if(d.transitions){d.prop="-webkit-transform"}d.rightslides.css({display:"block","-webkit-transition-duration":"0",opacity:"0","-webkit-transform":"translate3d("+(d.width())+"px,0,50px) rotate3d(1, 2, 0, -90deg) scale3d(2, 2, 2)"});d.leftslides.css({display:"block","-webkit-transition-duration":"0",opacity:"0","-webkit-transform":"rotate3d(1, 2, 0, 90deg) scale3d(2, 2, 2)"});d.leftcaption.css({display:"block","-webkit-transition-duration":"0",opacity:"0"});d.rightcaption.css({display:"block","-webkit-transition-duration":"0",opacity:"0"});if(d.vars.animation.toLowerCase()=="slide"){a(window).resize(function(){if(!d.animating){d.newSlides.width(d.width());d.args[d.prop]=(-1*d.currentSlide)*d.width()+"px";if(d.transitions){d.setTransition(0);d.args[d.prop]="translate3d("+d.args[d.prop]+",0,0)"}d.container.css(d.args)}})}d.vars.start(d)};d.onTouchStart=function(f){if(d.animating){f.preventDefault()}else{d.animating=true;d.leftslides.bind("webkitTransitionEnd",function(g){a(this).unbind("webkitTransitionEnd");d.animating=false});d.animateItems(d.leftinfocus);d.leftinfocus=!d.leftinfocus}};d.onStartButtonTouched=function(g){if(d.animating){g.preventDefault()}else{var f=("ontouchstart" in document.documentElement)?"touchstart":"click";d.leftslides.each(function(){this.removeEventListener(f,d.onTouchStart,false)});d.rightslides.each(function(){this.removeEventListener(f,d.onTouchStart,false)});d.startbutton.each(function(){this.removeEventListener(f,d.onStartButtonTouched,false)});d.aminatingout()}};d.animateItems=function(e){if(e){d.rightslides.css({"-webkit-transition-duration":"1s","-webkit-transform":"translate3d("+(d.width()/4)+"px,0,10px) rotate3d(0, 1, 0, 0deg) scale3d(1, 1, 1)"});d.rightcaption.css({"-webkit-transition-duration":"1s",opacity:"1"});d.leftslides.css({"-webkit-transition-duration":"1s","-webkit-transform":"translate3d("+(d.width()/2)+"px,0,10px) rotate3d(0, 1, 0, 0deg) scale3d(0.6, 0.6, 0.6)"});d.leftcaption.css({display:"block","-webkit-transition-duration":"1s",opacity:"0"})}else{d.rightslides.css({"-webkit-transition-duration":"1s","-webkit-transform":"translate3d("+(d.width()/2)+"px,0,10px) rotate3d(0, 1, 0, 0deg) scale3d(0.6, 0.6, 0.6)"});d.rightcaption.css({"-webkit-transition-duration":"1s",opacity:"0"});d.leftslides.css({"-webkit-transition-duration":"1s","-webkit-transform":"translate3d("+(d.width()/4)+"px,0,10px) rotate3d(0, 1, 0, 0deg) scale3d(1, 1, 1)"});d.leftcaption.css({display:"block","-webkit-transition-duration":"1s",opacity:"1"})}};d.startaminating=function(e){d.leftslides.bind("webkitTransitionEnd",function(g){a(this).unbind("webkitTransitionEnd");d.leftcaption.css({"-webkit-transition-duration":"1s",opacity:"1"});var f=("ontouchstart" in document.documentElement)?"touchstart":"click";d.leftslides.each(function(){this.addEventListener(f,d.onTouchStart,false)});d.rightslides.each(function(){this.addEventListener(f,d.onTouchStart,false)});d.startbutton.each(function(){this.addEventListener(f,d.onStartButtonTouched,false)})});d.rightslides.css({"-webkit-transition-duration":"1s",opacity:"1","-webkit-transition-timing-function":"cubic-bezier(0.0, 0.0, 0.4, 1.0)","-webkit-transform":"translate3d("+(d.width()/2)+"px,0,10px) rotate3d(0, 1, 0, 0deg) scale3d(0.6, 0.6, 0.6)","-webkit-box-reflect":"below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(0.5, transparent), to(rgba(255, 255, 255, 0.5)))"});d.leftslides.css({"-webkit-transition-duration":"1s",opacity:"1","-webkit-transition-timing-function":"cubic-bezier(0.0, 0.0, 0.4, 1.0)","-webkit-transform":"translate3d("+(d.width()/4)+"px,0,10px) rotate3d(0, 1, 0, 0deg) scale3d(1, 1, 1)","-webkit-box-reflect":"below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(0.5, transparent), to(rgba(255, 255, 255, 0.5)))"})};d.aminatingout=function(){d.animating=true;d.leftslides.bind("webkitTransitionEnd",function(g){a(this).unbind("webkitTransitionEnd");d.animating=false;var f=(d.leftinfocus)?0:1;d.vars.end(f)});d.rightcaption.css({"-webkit-transition-duration":"0.5s",opacity:"0"});d.leftcaption.css({display:"block","-webkit-transition-duration":"0.5s",opacity:"0"});d.rightslides.css({"-webkit-transition-duration":"1s",opacity:"0","-webkit-transition-timing-function":"cubic-bezier(0.0, 0.0, 0.4, 1.0)","-webkit-transform":"translate3d("+(d.width())+"px,0,50px) rotate3d(1, 2, 0, -90deg) scale3d(2, 2, 2)","-webkit-box-reflect":""});d.leftslides.css({"-webkit-transition-duration":"1s",opacity:"0","-webkit-transition-timing-function":"cubic-bezier(0.0, 0.0, 0.4, 1.0)","-webkit-transform":"rotate3d(1, 2, 0, 90deg) scale3d(2, 2, 2)","-webkit-box-reflect":""})};d.stopaminating=function(e,f){if(f){d.pause}a(d.controlsContainer).bind("webkitTransitionEnd",function(g){a(this).unbind("webkitTransitionEnd")});a(d.controlsContainer).css({"-webkit-transition-property":"opacity","-webkit-transition-duration":(e/1000)+"s",opacity:"0"})};d.changeopacity=function(e){a(d.controlsContainer).css({"-webkit-transition-property":"opacity","-webkit-transition-duration":"0",opacity:(e/1000)})};d.startslideshow=function(){if(d.vars.pauseOnHover){d.hover(function(){d.pause()},function(){if(!d.manualPause){d.resume()}})}};d.wrapup=function(e){d.animating=false;d.currentSlide=d.animatingTo;d.vars.after(d)};d.getTarget=function(e){d.direction=e;if(e=="next"){return(d.currentSlide==d.count-1)?0:d.currentSlide+1}else{return(d.currentSlide==0)?d.count-1:d.currentSlide-1}};d.setTransition=function(e){d.container.css({"-webkit-transition-duration":(e/1000)+"s"})};d.init()};a.carouselmenu.defaults={animation:"fade",rightitem:"#rightitem",leftitem:"#leftitem",leftcaption:"#leftcaption",rightcaption:"#rightcaption",enterbutton:"#carouselbutton",slideDirection:"horizontal",slideshow:true,slideshowSpeed:7000,animationDuration:600,directionNav:true,controlNav:true,prevText:"Previous",nextText:"Next",pausePlay:false,pauseText:"Pause",playText:"Play",slideToStart:0,pauseOnAction:true,controlsContainer:"",manualControls:"",start:function(){},before:function(){},after:function(){},end:function(){}};a.fn.carouselmenu=function(b){return this.each(function(){if(a(this).find(".slides li").length==1){a(this).find(".slides li").fadeIn(400)}else{if(!a(this).data("carouselmenu")){new a.carouselmenu(a(this),b)}}})}})(jQuery);